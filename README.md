# Усталяванне модуля (для адміністратараў сайтаў грамадскіх арганізацый)
Гэта модуль прыёма ахвяраванняў для Грамадскіх Арганізацый
Паслядоўнасць ўстаноўкі:
1) Спампаваць архіў з рэлізам модуля за адрасам https://github.com/diglabby/doika_1.2/archive/doika_final_1.2.zip
2) Выняць тэчкi "doika" i "client-side" з архіва і размясціць iх у корані вашага сайта.
3) Выняць дамп базы дадзеных "doika.sql" з архіва і імпартаваць яго ў Вашу базу дадзеных.
4) Запоўніць неабходныя палі ў файле ".env" тэчкі "doika" для доступу да Вашай БД: імя базы дадзеных, лагін і пароль (DB_DATABASE, DB_USERNAME, DB_PASSWORD)
5) У браўзэры ўвесці адрас "{ваш хост}/doika" і стварыць неабходныя Вам кампаніі па зборы сродкаў
6) Падключыць файлы js на тых старонках на якiх Вы жадаеце каб адлюстроувауся модуль doika. Для гэтага размясцiце такi код памiж тегамi head  

    <head>
       ...
        <script src="client-side/doika-loader.js"></script>
       ...
    </head>

7) Зайсці ў адміністратыуную частку "{ваш хост}/doika" выбраць там патрэбную кампанію і скапіяваць у полі шорт-код html-код блока прыёму ахвяраванняў для вашай кампаніі.
8) На старонцы Вашай кампаніі ўставіць  html-код памiж тэгамi body i там дзе Вы жадаеце бачыць ваш модуль.

# doika_1.2 Усталяванне для распрацоўшчыкаў
Патрабаванні да сервера: асяроддзе, сумяшчальнае з Laravel версіі 5.4.* (https://laravel.com/docs/5.4/installation#server-requirements)

Устаноўка складаецца з двух частак: загрузка модуля ў праект і вывад модуля на старонцы.

Загружаем файлы модуля:
1. Заходзім у рэпазіторый https://github.com/diglabby/doika_1.2.git і ствараем для сябе fork 
2. Дадаем змесціва fork рэпазіторыя ў корань вашага сайта з дапамогай git clone
3. Імпартуем файл doika.sql у базу дадзеных. Можна выкарыстоўваць існуючую базу дадзенных ці стварыць новую спецыяльна для модуля
4. Рыхтуем канфіг файл. Для гэтага ў тэчцы doika ствараем копію файла .env.example і надаем яму імя .env
5. Уносім у файл .env свае дадзеныя DB_DATABASE={your_database} DB_USERNAME={your_username} DB_PASSWORD={your_password}

Выводзім модуль на старонцы:
1. Перш за ўсё неабходна залагініцца.
Адкрываем {your_site}/doika, дзе {your_site} адрас вашага сайта. Дадзенныя для ўвахода: e-mail адрэс "sample@sample.com" пароль "123456". 
Пасля ўвахода можна змяніць гэтыя дадзенныя на свае ў раздзеле "Канфігурацыя модуля" {your_site}/doika/show-configurations
2. Далей неабходна стварыць кампанію па збору сродкаў. 
Заходзім па адрасе {your_site}/doika/create. Запаўняем патрэбныя дадзеныя і захоўваем кампанію
3. Вяртаемся на Галоўную {your_site}/doika/show-list, націскаем на неабходную кампанію для рэдагавання
4. Капіруем змесціва поля Шорткод, устаўляем яго ў html-код ў тое месца сваей старонкі, дзе будзе адлюстроўвацца модуль
5. Завяршальны шлях. Падключаем бібліятэку модуля. На старонцы з модулем у html-кодзе ў блоку <head> неабходна размясціць <script src="client-side/doika-loader.js"></script>. Захоўваем файл.
6. Ідзем на {your_site} праз браўзер, знаходзім старонку, дзе ўсталяваны модуль і перагружаем яе кантрольна CTRL + SHIFT + R
7. Модуль гатовы для выкарыстання
...

# Падключаем магчымасць рабіць тэставыя плацяжы
1. Каб пераключыцца ў тэставы рэжым трэба падключыцца да базы дадзенных з модулем і ўстанавіць "1" у наступнай ячэйцы з дапамогай mysql каманды "UPDATE doika_configurations SET configuration_value='1' WHERE configuration_name='is_test';"
Каб выйсці з тэставага рэжыму трэба ўстанавіць замест "1" любое іншае значэнне, напрыклад "0"
2. Заходзім на старонку канфігурацыі {your_site}/doika/show-configurations і правяраем ці запаўнены тэставымі дадзеннымі наступныя ячэйкі IdMarket=363 KeyMarket=4f585d2709776e53d080f36872fd1b63b700733e7624dfcadd057296daa37df6
3. Вяртаемся на старонку з модулем і спрабуем зрабіць тэставы плацеж, выкарыстоўваючы наступныя дадзеныя: 
нумар карты 4200000000000000 перадае паведамленне аб паспяховым плацяжу, 
нумар карты 4005550000000019 перадае паведамленне ад адхіленні плацяжу банкам, 
любы іншы нумар карты перадасць паведамленне аб тэхнічным збоі.

# Карысная інфармацыя
Дакументацыя для распрацоўшчыкаў на wiki https://github.com/diglabby/doika_1.2/wiki
Працэсінгавая сістэма BePaid https://docs.bepaid.by/ru/introduction
