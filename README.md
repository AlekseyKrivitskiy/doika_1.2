
# doika_1.2 Усталяванне для распрацоўшчыкаў
1. Патрабаванні да сервера: асяроддзе, сумяшчальнае з Laravel версіі 5.4.* (https://laravel.com/docs/5.4/installation#server-requirements)
2. ВАЖНА! Для забеспячення бяспекі плацежных дадзенных на Вашай старонцы з модулем павінен выкарыстоўвацца пратакол https

Устаноўка складаецца з двух частак: загрузка модуля ў праект і вывад модуля на старонцы.

Загружаем файлы модуля:
1. Заходзім у рэпазіторый https://github.com/diglabby/doika_1.2.git і ствараем для сябе fork 
2. Дадаем змесціва fork рэпазіторыя ў корань вашага сайта з дапамогай git clone. Пераключаемся на branch, з якой плануем працаваць з дапамогай git checkout (напрыклад, git checkout dev)
3. Імпартуем файл doika.sql у базу дадзеных. Можна выкарыстоўваць існуючую базу дадзенных ці стварыць новую спецыяльна для модуля
4. Рыхтуем канфіг файл. Для гэтага ў тэчцы doika ствараем копію файла .env.example і надаем яму імя .env
5. Уносім у файл .env свае дадзеныя DB_DATABASE={your_database} DB_USERNAME={your_username} DB_PASSWORD={your_password}

Выводзім модуль на старонцы:
1. Перш за ўсё неабходна залагініцца.
Адкрываем {your_site}/doika, дзе {your_site} адрас вашага сайта. Дадзенныя для ўвахода: e-mail адрэс "sample@sample.com" пароль "123456". 
Пасля ўвахода можна змяніць гэтыя дадзенныя на свае ў раздзеле "Канфігурацыя модуля" {your_site}/doika/show-configurations
2. Далей неабходна стварыць кампанію па збору сродкаў. 
Заходзім па адрасе {your_site}/doika/create. Запаўняем патрэбныя дадзеныя і захоўваем кампанію
3. Вяртаемся на Галоўную {your_site}/doika/show-list, націскаем на неабходную кампанію для рэдагавання
4. Капіруем змесціва поля Шорткод, устаўляем яго ў html-код ў тое месца сваей старонкі, дзе будзе адлюстроўвацца модуль
5. Завяршальны шлях. Падключаем бібліятэку модуля. На старонцы з модулем у html-кодзе ў блоку <head> неабходна размясціць <script src="/client-side/doika-loader.js"></script>. Захоўваем файл.
6. Ідзем на {your_site} праз браўзер, знаходзім старонку, дзе ўсталяваны модуль і перагружаем яе кантрольна CTRL + SHIFT + R
7. Модуль гатовы для выкарыстання
...

# Падключаем магчымасць рабіць тэставыя плацяжы
1. Каб пераключыцца ў тэставы рэжым заходзім на старонку канфігурацыі {your_site}/doika/show-configurations і адзначаем "Падключыць тэставыя плацяжы". Захоўваем змены. 
Гэта жа можна зрабіць з дапамогай mysql каманды "UPDATE doika_configurations SET configuration_value='1' WHERE configuration_name='is_test';"
Каб выйсці з тэставага рэжыму трэба ўстанавіць замест "1" любое іншае значэнне, напрыклад "0"
2. Заходзім на старонку канфігурацыі {your_site}/doika/show-configurations і правяраем ці запаўнены тэставымі дадзеннымі наступныя ячэйкі IdMarket=363 KeyMarket=4f585d2709776e53d080f36872fd1b63b700733e7624dfcadd057296daa37df6
3. Вяртаемся на старонку з модулем і спрабуем зрабіць тэставы плацеж, выкарыстоўваючы наступныя дадзеныя: 
нумар карты 4200000000000000 перадае паведамленне аб паспяховым плацяжу, 
нумар карты 4005550000000019 перадае паведамленне ад адхіленні плацяжу банкам, 
любы іншы нумар карты перадае паведамленне аб тэхнічным збоі.

# Карысная інфармацыя
1. Дакументацыя для распрацоўшчыкаў на wiki https://github.com/diglabby/doika_1.2/wiki
2. Працэсінгавая сістэма BePaid https://docs.bepaid.by/ru/introduction
